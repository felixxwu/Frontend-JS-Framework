parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"GJ8u":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={init:function(t,e,n){var i=this;this.root=t,this.id=e,this.postRenderJobs=[],this.styleMemory={},this.actions=n.actions,Object.keys(n.state).forEach(function(t){i.state[t]=n.state[t]}),this.render(this.root,this.id)},state:new Proxy({},{set:function(t,e,i){return t[e]=i,console.log("STATE",e,"=",i),n(e),!0}}),dispatch:function(t,e){this.actions(this.state)[t](e)},subscribe:function(t,e){this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].includes(t)||this.subscriptions[e].push(t)},subscriptions:{},render:function(t,e){var n=performance.now();e||(e=t.id),this.validateComponent(t);var i=this.renderElement(t,e),o=document.getElementById(e);o&&o.parentNode.replaceChild(i,o),this.postRender(),console.log("Render took",Math.round(performance.now()-n),"ms id:",e)},postRender:function(){var t=this;setTimeout(function(){for(;0!==t.postRenderJobs.length;)t.postRenderJobs.pop()()},0)},renderByName:function(t){this.renderComponentByName(this.root,t)},renderComponentByName:function(t,e){var n=this;t.name!==e?(t.child&&this.renderComponentByName(t.child.bind(t)(),e),t.children&&t.children.bind(t)().forEach(function(t){n.renderComponentByName(t,e)})):this.render(t)},renderElement:function(t,e){var n=this;if(e&&(t.id=e),void 0!==t.text)return document.createTextNode(t.text);var i=document.createElement(t.tag);return i.setAttribute("id",t.id),void 0!==t.attrs&&Object.keys(t.attrs).forEach(function(e){var n=t.attrs[e];i.setAttribute(e,n)}),void 0!==t.events&&Object.keys(t.events).forEach(function(e){var o=t.events[e];i.addEventListener(e,function(e){o.bind(t)(e)!==n.flags.NO_SELF_RENDER&&n.render(t),e.stopPropagation()})}),void 0!==t.child&&i.appendChild(this.renderElement(t.child.bind(t)(),"".concat(e,"-0"))),void 0!==t.children&&t.children.bind(t)().forEach(function(t,o){i.appendChild(n.renderElement(t,"".concat(e,"-").concat(o)))}),void 0!==t.style&&(i.setAttribute("style",this.styleMemory[t.id]),this.postRenderJobs.push(function(){var e=t.style.bind(t)(),i=document.getElementById(t.id);i&&(i.style=e),n.styleMemory[t.id]=e})),void 0!==t.subscribeTo&&t.subscribeTo.forEach(function(e){n.subscribe(t.name,e)}),i},validateComponent:function(e){var n=["text","name","tag","data","attrs","events","child","children","style","id","subscribeTo"];if(Object.keys(e).forEach(function(t){if(!n.includes(t))throw'Field "'.concat(t,'" is not an accepted component field, use one of ').concat(JSON.stringify(n))}),void 0!==e.text&&1!==Object.keys(e).length)throw'Simple text components must only contain a "text" field '+JSON.stringify(e);if(void 0===e.text){if(!e.tag)throw'Component must have a "tag" '+JSON.stringify(e);if(!e.name)throw'Component must have a "name" '+JSON.stringify(e)}if(void 0!==e.text&&"string"!=typeof e.text)throw'Field "text" must be of type string '+JSON.stringify(e);if(void 0!==e.name&&"string"!=typeof e.name)throw'Field "name" must be of type string '+JSON.stringify(e);if(void 0!==e.tag&&"string"!=typeof e.tag)throw'Field "tag" must be of type string '+JSON.stringify(e);if(void 0!==e.style&&"function"!=typeof e.style)throw'Field "style" must be of type function '+JSON.stringify(e);if(void 0!==e.attrs&&"object"!==t(e.attrs))throw'Field "attrs" must be of type object '+JSON.stringify(e);if(void 0!==e.attrs&&Object.keys(e.attrs).forEach(function(t){if("string"!=typeof e.attrs[t])throw'All "attrs" must be of type string '+JSON.stringify(e)}),void 0!==e.events&&"object"!==t(e.events))throw'Field "events" must be of type object '+JSON.stringify(e);void 0!==e.events&&Object.keys(e.events).forEach(function(t){if("function"!=typeof e.events[t])throw'All "events" must be of type function '+JSON.stringify(e)})},flags:Object.freeze({NO_SELF_RENDER:1})},n=function(t){var n=e.subscriptions[t];n&&n.forEach(function(t){e.renderByName(t)})},i=e;exports.default=i;
},{}],"P5Wb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../Framework"));function e(t){return t&&t.__esModule?t:{default:t}}var n=function(e){var n="";return 1===e&&(n="a4"),2===e&&(n="a5"),3===e&&(n="a6"),{name:"button",tag:"div",attrs:{class:"".concat(n," grid3x3")},data:{myCount:0},style:function(){return"\n                width: 70px;\n                height: 70px;\n                border: solid 1px grey;\n                cursor: pointer;\n            "},events:{click:function(){this.data.myCount+=1,t.default.dispatch("incrementCount",e)}},child:function(){var t=this;return{tag:"div",child:function(){return{text:"+".concat(e," (").concat(t.data.myCount,")")}}}}}};exports.default=n;
},{"../Framework":"GJ8u"}],"F3k3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../Framework"));function t(e){return e&&e.__esModule?e:{default:e}}var r={name:"counter",tag:"div",attrs:{class:"a2"},subscribeTo:["count"],child:function(){return{text:"Count: ".concat(e.default.state.count)}}};exports.default=r;
},{"../Framework":"GJ8u"}],"Atkr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t){return{name:"exit",tag:"div",attrs:{class:"a8 grid3x3"},style:function(){return"\n            width: 100px;\n            height: 50px;\n            border: 1px solid grey;\n            cursor: pointer;\n        "},events:{click:t},child:function(){return{name:"",tag:"div",child:function(){return{text:"exit"}}}}}};exports.default=t;
},{}],"xsw5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./Button")),e=n(require("./Counter")),a=n(require("../Framework")),i=n(require("./ExitButton"));function n(t){return t&&t.__esModule?t:{default:t}}var s=Object.freeze({START:1,EXPANDING:2,EXPANDED:3}),d={START:[100,50],EXPANDED:[500,300]},r=.5,o={name:"box",tag:"div",attrs:{class:"grid3x3"},data:{dimensions:d.START,state:s.START},events:{click:function(){var t=this;if(this.data.state===s.EXPANDED)return a.default.flags.NO_SELF_RENDER;this.data.dimensions=d.EXPANDED,this.data.state=s.EXPANDING,a.default.dispatch("setBoxExpanding",!0),setTimeout(function(){t.data.state=s.EXPANDED,a.default.dispatch("setBoxExpanding",!1)},1e3*r)}},subscribeTo:["boxExpanding"],style:function(){return"\n            width: ".concat(this.data.dimensions[0],"px;\n            height: ").concat(this.data.dimensions[1],"px;\n            max-width: 100vw;\n            border: 1px solid grey;\n            transition: ").concat(r,"s;\n            cursor: ").concat(this.data.state===s.START?"pointer":"initial",";\n        ")},children:function(){var n=this,o=[e.default,(0,t.default)(1),(0,t.default)(2),(0,t.default)(3),(0,i.default)(function(){n.data.dimensions=d.START,n.data.state=s.EXPANDING,a.default.dispatch("resetCount"),a.default.dispatch("setBoxExpanding",!0),setTimeout(function(){n.data.state=s.START,a.default.dispatch("setBoxExpanding",!1)},1e3*r)})];return this.data.state===s.START?[{tag:"div",child:function(){return{text:"start"}}}]:this.data.state===s.EXPANDING?[]:this.data.state===s.EXPANDED?o:void 0}};exports.default=o;
},{"./Button":"P5Wb","./Counter":"F3k3","../Framework":"GJ8u","./ExitButton":"Atkr"}],"leDv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./Box"));function t(e){return e&&e.__esModule?e:{default:e}}var n={name:"app",tag:"div",attrs:{class:"grid3x3"},style:function(){return"\n        width: 100vw;\n        height: 100vh;\n        overflow: hidden;\n        font-family: 'Lexend Deca', sans-serif;\n    "},children:function(){return[e.default]}};exports.default=n;
},{"./Box":"xsw5"}],"mOxL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={state:{count:0,boxExpanding:!1},actions:function(t){return{incrementCount:function(n){return t.count+=n},resetCount:function(){return t.count=0},setBoxExpanding:function(n){return t.boxExpanding=n}}}};exports.default=t;
},{}],"Focm":[function(require,module,exports) {
"use strict";var e=u(require("./Framework")),r=u(require("./components/App")),t=u(require("./StateConfig"));function u(e){return e&&e.__esModule?e:{default:e}}e.default.init(r.default,"app",t.default);
},{"./Framework":"GJ8u","./components/App":"leDv","./StateConfig":"mOxL"}]},{},["Focm"], null)
//# sourceMappingURL=/framework.c6fb36de.js.map